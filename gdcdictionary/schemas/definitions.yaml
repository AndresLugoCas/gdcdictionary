id: _definitions

UUID:
    type: string
    pattern: "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"

parent_uuids:
    type: array
    minItems: 1
    items:
        $ref: "#/UUID"
    uniqueItems: true

foreign_key:
    type: object
    additionalProperties: false
    #Can either use 'id' which are GDC IDs (UUID) or 'submitter_id'
    #which are user defined IDs ("submitter IDs in the backend")
    anyOf:
        - required:
            - id
        - required:
            - submitter_id
    properties:
        id:
            $ref: "#/UUID"
        submitter_id:
            type: string

to_one:
    - $ref: "#/foreign_key"

to_many:
    - type: array
      items:
          $ref: "#/foreign_key"
      minItems: 1

created_datetime:
    type: string
    format: date-time
updated_datetime:
    type: string
    format: date-time

file_name:
    type: string
    description: "file name"
file_size:
    type: number
    description: "the size of the data file (object) in bytes"
file_format:
    type: string
    description: "the size of the data file (object) in bytes"
md5sum:
    type: string
    description: "the MD5 hash of the data file (object)"

bioentity_state:
    description: "states of a bioentity"
    enum:
        - registered
        - validated
        - released
        - redacted

data_bundle_state:
    description: "states of a data bundle"
    enum:
        - registered
        - validated
        - error
        - released
        - suppressed
        - redacted

data_file_state:
    description: "states of a data file (object)"
    enum:
        - registered
        - uploading
        - validating
        - validated
        - error
        - released
        - suppressed
        - redacted
