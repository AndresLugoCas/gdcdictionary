$schema: "http://json-schema.org/draft-04/schema#"

id: "clinical"
title: Clinical
type: object
namespace: http://gdc.nci.nih.gov
category: TBD
program: '*'
project: '*'
description: >
  Data obtained through patient examination or treatment.
  (GDC synonym for NCIt C15783)
additionalProperties: false
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime

links:
  - name: cases
    backref: clinicals
    label: describes
    target_type: case
    multiplicity: one_to_one
    required: true

required:
  - id
  - cases

uniqueKeys:
  #unclear if want submitter ID for clinical
  - [id]

# Clinical properties
# This is a skeleton outline for the internal terms that will be used by the GDC
# The term field will be used to point to a semantic definition including
# descriptions, synonyms, links to external vocabularies/ontologies
properties:
  type:
    type: string
  id:
    $ref: "definitions.yaml#/UUID"
    systemAlias: node_id
    description: "TODO"

  demographic:
    type: object
    term: TBD

    required:
      - gender
      - race
      - ethnicity
      - religion
      - year_of_birth
      - year_of_death

    properties:
      gender:
        term: TBD
        enum:
          - female
          - male
          - unknown
          - unspecified

      race:
        term: TBD
        enum:
          - white
          - american indian or alaska native
          - black or african american
          - asian
          - native hawaiian or other pacific islander
          - other
          - not reported
          - not allowed to collect

      ethnicity:
        term: TDB
        enum:
          - hispanic or latino
          - not hispanic or latino
          - not reported
          - not allowed to collect

      year_of_birth:
        term: TBD
        type: number

      year_of_death:
        term: TBD
        type: number

  diagnosis:
    type: object
    term: TBD

    required:
      - age_at_diagnosis
      - days_to_birth
      - days_to_last_follow_up
      - vital_status
      - primary_diagnosis
      - morphology
      - tissue_or_organ_of_origin
      - site_of_resection_or_biopsy
      - classification_of_tumor
      - tumor_stage
      - tumor_grade
      - progression_or_recurrence
      - days_to_recurrence
      - days_to_last_known_disease_status
      - last_known_disease_status


    properties:
      age_at_diagnosis:
        type: number
        term: TBD

      days_to_birth:
        type: number
        term: TBD

      days_to_last_follow_up:
        type: number
        term: TBD

      vital_status:
        enum:
          - alive
          - dead
          - lost to follow-up
          - unknown
        term: TBD

      primary_diagnosis:
        type: string
        term: TBD

      morphology:
        type: string
        term: TBD

      tissue_or_organ_of_origin:
        type: string
        term: TBD

      site_of_resection_or_biopsy:
        type: string
        term: TBD

      classification_of_tumor:
        term: TBD
        enum:
          - primary
          - metastasis
          - recurrence
          - other

      prior_malignancy:
        term: TBD
        enum:
          - yes
          - no
          - unknown

      tumor_stage:
        term: TBD
        type: string

      tumor_grade:
        term: TBD
        type: string

      progression_or_recurrence:
        term: TBD
        enum:
          - yes
          - no
          - unknown

      days_to_recurrence:
        term: TBD
        type: number

      last_known_disease_status:
        term: TBD
        enum:
          - Distant met recurrence/progression
          - Loco-regional recurrence/progression
          - Biochemical evidence of disease without structural correlate
          - Tumor free
          - Unknown tumor status
          - With tumor

  family_history:
    type: object
    term: TBD

    properties:
      relative_with_cancer_history:
        term: TBD
        enum:
          - yes
          - no
          - unknown

      relationship_type:
        term: TBD
        type: string

      relationship_gender:
        term: TBD
        enum:
          - female
          - male
          - unknown
          - unspecified

      relationship_age_at_diagnosis:
        term: TBD
        type: number

      relationship_primary_diagnosis:
        term: TBD
        type: string

  exposure:
    type: object
    term: TBD

    properties:
      years_smoked:
        term: TBD
        type: number

      cigarettes_per_day:
        term: TBD
        type: number

      alcohol_history:
        term: TBD
        type: string

      alcohol_intensity:
        term: TBD
        type: string

      height:
        term: TBD
        type: number

      weight:
        term: TBD
        type: number

      bmi:
        term: TBD
        type: number

  treatment:
    type: object
    term: TBD

    properties:
      treatment_or_therapy:
        term: TBD
        enum:
          - yes
          - no
          - unknown

      treatment_intent_type:
        term: TBD
        type: string

      therapeutic_agents:
        term: TBD
        type: string

      days_to_treatment:
        term: TBD
        type: number

  cases:
    $ref: "definitions.yaml#/to_one"
  project_id:
    type: string
  created_datetime:
    type: string
    format: date-time
  updated_datetime:
    type: string
    format: date-time