$schema: "http://json-schema.org/draft-04/schema#"

id: read_group_qc_file
title: Read Group QC File
type: object
description: FASTQC generated QC report files for fastq data
additionalProperties: false
category: data_file
validators: null
project: '*'
program: '*'

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - file_state
  - state
  - release_state
  - release_state_datetime

links:
  - name: qc_metrics_bundles
    label: part_of
    target_type: read_group_qc_metric
    multiplicity: one_to_one
    required: true
    backref: read_group_qc_files

required: [ type, file_name, file_format, file_size, md5sum, qc_metrics_bundles ]

uniqueKeys:
  - [ id ]
  - [ project_id, file_name ]

properties:
  type:
    enum: [ read_group_qc_file ]
  project_id:
    type: string
  file_state:
    $ref: "_definitions.yaml#/file_state"
  state:
    $ref: "_definitions.yaml#/state"
  file_name:
    $ref: "_definitions.yaml#/file_name"
  file_format:
    $ref: "_definitions.yaml#/file_format"
    enum: [ "tar.gz" ]
  file_size:
    $ref: "_definitions.yaml#/file_size"
  md5sum:
    $ref: "_definitions.yaml#/md5sum"
  qc_metrics_bundles:
    $ref: "_definitions.yaml#/to_one"
  project_id:
    type: string
  created_datetime:
    $ref: "_definitions.yaml#/datetime"
  updated_datetime:
    $ref: "_definitions.yaml#/datetime"
