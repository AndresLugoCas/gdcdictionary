schema:
  name: Slide
  namespace: gdc='http://gdc.nci.nih.gov'
  category: biospecimen
  title: Slide image
  description: 
  version: 
  created:
  updated:
  required: false
  data_format: [TSV, JSON, XML]
  validator: standard
  projects: ["TCGA-BRCA", "TCGA-OV", "TARGET-ALL", "ABCD", "XYZ"]
  system_fields:
    -
      name: id
      type: uuid
      description:
      constraints:
        required: true
        unique: true
    -
      name: version
      type: integer
      description:
      constraints:
        required: true
        unique: true
    -
      name: slide_id  # short, user-friendly IDs
      type: string
      bind_to: [ project_id, submitter_slide_id ]  # based on values of project_id and submitter_portion_id
      description:
      constraints:
        required: true
        unique: true
        pattern: SI[:seq]+
    -
      name: state
      type: string
      description:
      constraints:
        required: true
        unique: false
        allowed: [ registered, live ]
    -
      name: date_created
      type: datetime
      description:
      constraints:
        required: true
        unique: false
    -
      name: date_updated
      type: datetime
      description:
      constraints:
        required: true
        unique: false
  fields:
    -
      name: submitter_slide_id
      type: uuid
      constraints:
        required: true
        unique: false  # within project is unique
    -
      name: submitter_portion_id
      type: string
      description:
      constraints:
        required: true
        unique: false
    -
      name: percent_tumor_nuclei
      type: integer
      constraints:
        required: true
        min: 0
        max: 100
    -
      name: percent_tumor_cells
      type: integer
      constraints:
        required: true
        min: 0
        max: 100
    -
      name: percent_normal_cells
      type: integer
      constraints:
        required: true
        min: 0
        max: 100
    -
      name: section_location
      type: string
      constraints:
        required: false
        maxLength: 20
        allowed:
          - top
          - buttom
  primaryKey: id
  uniqueKeys:
    - [ project_id, submitter_slide_id ]
  parentKeys:
    -
      fields: [ project_id, submitter_portion_id ]
      required: true
      reference:
        entity: Portion
        fields: [ project_id, submitter_portion_id ]
